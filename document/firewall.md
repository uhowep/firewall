### 配置
使用3个维度进行防火墙配置，分别为**总限制次数limit(次)**、**时间间隔interval(秒)**、**频率(minutes分钟内times次)**三种，当其值为0时则表示不进行该项判定

### 记录log
记录log由**times**和**request_at**构成，**times**为总次数(当天，目前只支持到按天)，**request_at**数组为索引数组，记录每次访问的时间戳，**request_at**的长度上限为**frequency**配置中的**times**次数

### 频率的处理方法
- 当总次数小于**frequency**中的**times**时，直接放行
- 当总次数大于**frequency**中的**times**时，计算当前(访问)时间与**request_at**中最早的时间的时间差，若时间差小于**frequency**中的**minutes**则不允通过
- 注意，**1分钟10次**和**2分钟20次**`不是同一个概念`，故频率的处理中`不能计算平均值`，设1分钟10次为方案A，2分钟20次为方案B，有如下情景：第1分钟访问1次，第2分钟访问19次，对于计算平均值的情况下，方案A和B在第2分钟都无法完成19次的访问，而不计算平均值的情况下，方案A在第2分钟时无法完成19次的访问，但是方案B能够完成19次的访问

### 记录log的request_at的长度处理
目前**request_at**的长度等于**frequency**中**times**的长度。其原因是：**为了记录最近times次的访问记录而不丢失**，如times为10时，有如下1511100031、1511100032，3，4，5，6，7，8，9，1511100040时间戳的请求，当下个合法的请求1511100041入队列时，要丢弃31，此时队列为1511100032，3，...，1511100040，1511100041，重要的在于32这个时间戳的记录，做判断时需要用到`这times次中最早的请求`，而这里的最早则为32，以及接下去的33，34等等，若将数组长度进行压缩(小于times的长度)，那么最新一次请求进来时，中间的记录将丢失，此时出队后队首将为原队尾，则判断会出错

### 记录的处理
目前采用的是Cache驱动，与laravel项目中的Cache保持一致
